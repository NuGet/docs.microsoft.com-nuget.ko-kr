---
title: NuGet 경고 NU5128
description: NU5128 경고 코드
author: zivkan
ms.date: 09/06/2019
ms.topic: reference
ms.reviewer: karann
f1_keywords:
- NU5128
ms.openlocfilehash: d1ce9fde28eff60b81f464088637572e6ad71a49
ms.sourcegitcommit: e4b0ff4460865db6dc7bc9f20e9f644d98493011
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/26/2019
ms.locfileid: "71307205"
---
# <a name="nuget-warning-nu5128"></a><span data-ttu-id="b145f-103">NuGet 경고 NU5128</span><span class="sxs-lookup"><span data-stu-id="b145f-103">NuGet Warning NU5128</span></span>

## <a name="scenario-1"></a><span data-ttu-id="b145f-104">시나리오 1</span><span class="sxs-lookup"><span data-stu-id="b145f-104">Scenario 1</span></span>

<pre>Some target frameworks declared in the dependencies group of the nuspec and the lib/ref folder do not have exact matches in the other location. Consult the list of actions below:
- Add a dependency group for .NETStandard2.0 to the nuspec</pre>

### <a name="issue"></a><span data-ttu-id="b145f-105">문제점</span><span class="sxs-lookup"><span data-stu-id="b145f-105">Issue</span></span>

<span data-ttu-id="b145f-106">패키지의 `ref/<tfm>/`또는디렉터리 에는 경고 메시지에 지정 된 [대상 프레임 워크 모니커 (TFM)](../target-frameworks.md) 에 대 한 파일이 하나 이상 포함 되어 있습니다. `lib/<tfm>/`</span><span class="sxs-lookup"><span data-stu-id="b145f-106">The `lib/<tfm>/` or `ref/<tfm>/` directory in the package contains at least one file for the [Target Framework Moniker (TFM)](../target-frameworks.md) specified in the warning message.</span></span> <span data-ttu-id="b145f-107">그러나이 TFM에 대 한 종속성 그룹은 `nuspec` 파일에 존재 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-107">However, no dependency group exists for this TFM in the `nuspec` file.</span></span> <span data-ttu-id="b145f-108">이로 인해 패키지 소비자는 패키지에 종속성이 없는 경우에도 패키지가 TFM와 호환 되지 않는다고 생각할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-108">This may cause package consumers to believe the package is not compatible with the TFM, even if the package does not have dependencies.</span></span> <span data-ttu-id="b145f-109">패키지에 선언 되지 않은 종속성이 있으면 패키지를 사용 하는 프로젝트에서 런타임 오류가 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-109">If the package has undeclared dependencies, the project using the package will experience runtime errors.</span></span>

### <a name="solution"></a><span data-ttu-id="b145f-110">솔루션</span><span class="sxs-lookup"><span data-stu-id="b145f-110">Solution</span></span>

* <span data-ttu-id="b145f-111">프로젝트에서 NuGet의 pack 대상 실행</span><span class="sxs-lookup"><span data-stu-id="b145f-111">Run NuGet's pack target on the project</span></span>

<span data-ttu-id="b145f-112">가능 하면 [NuGet의 MSBuild pack target](../msbuild-targets.md)을 사용 합니다 .이는 프로젝트의 대상 프레임 워크에서 종속성 그룹과 함께 어셈블리 tfm을 자동으로 일치 시킵니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-112">If possible, use [NuGet's MSBuild pack target](../msbuild-targets.md), as it automatically matches assembly TFMs with dependency groups from the project's target frameworks.</span></span> <span data-ttu-id="b145f-113">프로젝트는 자체 NuGet 종속성을 `PackageReference` 위해를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-113">Note that your project must use `PackageReference` for its own NuGet dependencies.</span></span> <span data-ttu-id="b145f-114">프로젝트에서 패키지 .config를 사용 하는 경우 `nuget.exe pack` `nuspec` 및 파일을 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-114">If your project uses packages.config, you need to use `nuget.exe pack` and a `nuspec` file.</span></span>

* <span data-ttu-id="b145f-115">수동으로 편집한 `nuspec` 파일</span><span class="sxs-lookup"><span data-stu-id="b145f-115">Manually edited `nuspec` file</span></span>

<span data-ttu-id="b145f-116">사용자 지정 `nuspec` 파일을 사용 하는 경우 종속성이 다음 호환 TFM 동일한 `lib/` 경우 `ref/` 에도 또는 어셈블리가 존재 하는 각 TFM 일치 하는 종속성 그룹을 사용 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-116">If you are using a custom `nuspec` file, we recommend each TFM for which `lib/` or `ref/` assemblies exist should have a matching dependency group, even if the dependencies are the same as the next compatible TFM.</span></span> <span data-ttu-id="b145f-117">예를 들어 패키지에 및 `netstandard1.0` `netstandard2.0` 어셈블리가 포함 되 고 둘 다에 대 한 종속성이 동일한 경우 두 tfm 모두 중복 종속성 항목이 있는 종속성 그룹으로 나열 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-117">For example, if a package contains `netstandard1.0` and `netstandard2.0` assemblies, and the dependencies are the same for both, we recommend both TFMs be listed as dependency groups with duplicate dependency items.</span></span>

<span data-ttu-id="b145f-118">어셈블리 경로에 사용 되는 TFM 식별자는 종속성 그룹에서 사용 되는 TFM 식별자와 다른 형식을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-118">Note that the TFM identifier used in the assembly paths use a different format to the TFM identifier used in dependency groups.</span></span> <span data-ttu-id="b145f-119">경고 메시지는 종속성 그룹에서 사용할 올바른 이름을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-119">The warning message specifies the correct name to use in the dependency group.</span></span> <span data-ttu-id="b145f-120">패키지에 해당 대상 프레임 워크에 대 한 종속성이 없는 경우 빈 그룹을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-120">If your package does not have any dependencies for that target framework, use an empty group.</span></span> <span data-ttu-id="b145f-121">예:</span><span class="sxs-lookup"><span data-stu-id="b145f-121">For example:</span></span>

```xml
<package>
  <metadata>
    ...
    <dependencies>
      <group targetFramework=".NETFramework4.7.2" />
    </dependencies>
  </metadata>
  ...
<package>
```

* <span data-ttu-id="b145f-122">`lib/` 또는`ref/` 파일 제거</span><span class="sxs-lookup"><span data-stu-id="b145f-122">Remove the `lib/` or `ref/` files</span></span>

<span data-ttu-id="b145f-123">패키지가 보고 된 TFM와 호환 되지 않도록 하려면 해당 TFM 패키지에 `lib/<tfm>/` 또는 `ref/<tfm>/` 파일이 없도록 프로젝트를 수정 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-123">If you do not wish your package to be compatible with the reported TFM, modify your project such that no `lib/<tfm>/` or `ref/<tfm>/` files are in the package for that TFM.</span></span> <span data-ttu-id="b145f-124">예를 `.NETFramework4.7.2` 들어에 대 한 `nuspec`종속성 그룹을에 추가 한다고 표시 되 면 패키지에서 및 `ref/net472/*` 파일 `lib/net472/*` 을 모두 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-124">For example, if the warning says to add a dependency group for `.NETFramework4.7.2` to the `nuspec`, then remove any `lib/net472/*` and `ref/net472/*` files from your package.</span></span>

## <a name="scenario-2"></a><span data-ttu-id="b145f-125">시나리오 2</span><span class="sxs-lookup"><span data-stu-id="b145f-125">Scenario 2</span></span>

<pre>Some target frameworks declared in the dependencies group of the nuspec and the lib/ref folder do not have exact matches in the other location. Consult the list of actions below:
- Add lib or ref assemblies for the netstandard2.0 target framework</pre>

### <a name="issue"></a><span data-ttu-id="b145f-126">문제점</span><span class="sxs-lookup"><span data-stu-id="b145f-126">Issue</span></span>

<span data-ttu-id="b145f-127">이 파일에는 보고 된 대상 프레임 워크 모니커 (TFM)에 대 한 종속성 그룹이 있지만 `lib/` 또는 `ref/`에서이 TFM에 대 한 어셈블리가 없습니다. `nuspec`</span><span class="sxs-lookup"><span data-stu-id="b145f-127">The `nuspec` file has a dependency group for the reported Target Framework Moniker (TFM), but no assemblies exist for this TFM in either `lib/` or `ref/`.</span></span> <span data-ttu-id="b145f-128">호환 되는 TFM에 대 한 어셈블리가 있는 경우 패키지는 계속 설치 되지만 컴파일 시간에 사용 되는 어셈블리에 대 한 종속성이 잘못 되어 런타임에 프로젝트가 실패할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-128">If there are assemblies for a compatible TFM, the package will still install, but the dependencies might be incorrect for a assemblies used at compile time and could cause the project to fail at runtime.</span></span>

### <a name="solution"></a><span data-ttu-id="b145f-129">솔루션</span><span class="sxs-lookup"><span data-stu-id="b145f-129">Solution</span></span>

* <span data-ttu-id="b145f-130">프로젝트에서 NuGet의 pack 대상 실행</span><span class="sxs-lookup"><span data-stu-id="b145f-130">Run NuGet's pack target on the project</span></span>

<span data-ttu-id="b145f-131">가능 하면 [NuGet의 MSBuild pack target](../msbuild-targets.md)을 사용 합니다 .이는 프로젝트의 대상 프레임 워크에서 종속성 그룹과 함께 어셈블리 tfm을 자동으로 일치 시킵니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-131">If possible, use [NuGet's MSBuild pack target](../msbuild-targets.md), as it automatically matches assembly TFMs with dependency groups from the project's target frameworks.</span></span> <span data-ttu-id="b145f-132">프로젝트는 자체 NuGet 종속성을 `PackageReference` 위해를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-132">Note that your project must use `PackageReference` for its own NuGet dependencies.</span></span> <span data-ttu-id="b145f-133">프로젝트에서 패키지 .config를 사용 하는 경우 `nuget.exe pack` `nuspec` 및 파일을 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-133">If your project uses packages.config, you need to use `nuget.exe pack` and a `nuspec` file.</span></span>

* <span data-ttu-id="b145f-134">수동으로 `nuspec` 파일 편집</span><span class="sxs-lookup"><span data-stu-id="b145f-134">Manually edit the `nuspec` file</span></span>

<span data-ttu-id="b145f-135">보고 된 TFM를 프로젝트가 컴파일되는 추가 대상 프레임 워크로 추가 하 고 패키지에 어셈블리를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-135">Add the reported TFM as an additional Target Framework for which your project compiles for, and add the assemblies to the package.</span></span> <span data-ttu-id="b145f-136">SDK 스타일 프로젝트를 사용 하 여 여러 개의 tfm를 여러 대상으로 지정 하는 경우 NuGet의 MSBuild pack 대상은 올바른 `lib/<tfm>/` 폴더에 어셈블리를 자동으로 추가 하 고 올바른 tfm 및 종속성으로 종속성 그룹을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-136">If you are using an SDK style project to multi-target multiple TFMs, NuGet's MSBuild pack targets can automatically add assemblies in the correct `lib/<tfm>/` folder and create dependency groups with the correct TFMs and dependencies.</span></span> <span data-ttu-id="b145f-137">비 SDK 스타일 프로젝트를 사용 하는 경우 추가 TFM 대 한 추가 프로젝트 파일을 만들고 패키지의 올바른 위치에 출력 어셈블리를 복사 하도록 `nuspec` 파일을 수정 해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-137">If you are using a non-SDK style project, you will likely need to create an additional project file for the additional TFM, and modify your `nuspec` file to copy the output assemblies in the correct location in the package.</span></span>

* <span data-ttu-id="b145f-138">빈 `_._` 파일 추가</span><span class="sxs-lookup"><span data-stu-id="b145f-138">Add an empty `_._` file</span></span>

<span data-ttu-id="b145f-139">패키지에 메타 패키지와 같은 어셈블리가 포함 되어 있지 않은 경우 경고 메시지에 나열 된 tfm에 대 `_._` 한 `lib/<tfm>/` 디렉터리에 빈 파일을 추가 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-139">If your package does not contain any assemblies, such as a meta-package, consider adding an empty `_._` file to the `lib/<tfm>/` directories for the TFMs listed in the warning message.</span></span> <span data-ttu-id="b145f-140">예를 들어 `netstandard2.0` 대상 프레임 워크에 대 한 어셈블리를 추가 하 라는 경고가 표시 되 면 `lib/netstandard2.0/_._` 패키지에 빈 파일을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-140">For example, if the warning says to add assemblies for the `netstandard2.0` target framework, create an empty `lib/netstandard2.0/_._` file in your package.</span></span>

* <span data-ttu-id="b145f-141">종속성 그룹 제거</span><span class="sxs-lookup"><span data-stu-id="b145f-141">Remove the dependency group</span></span>

<span data-ttu-id="b145f-142">사용자 지정 `nuspec` 파일을 사용 하는 경우 보고 된 TFM에 대 한 종속성 그룹을 제거 하 여 `lib/<tfm>/` 또는 `ref/<tfm>/` 파일이 존재 하는 tfm에 대 한 종속성 그룹만 남겨 둡니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-142">If you use a custom `nuspec` file, remove the dependency group for the reported TFM, leaving only dependency groups for TFMs for which `lib/<tfm>/` or `ref/<tfm>/` files exist.</span></span>

* <span data-ttu-id="b145f-143">어셈블리와 관련 되지 않은 패키지에 대 한 모든 종속성을 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-143">Remove all dependencies for packages that are not related to assemblies</span></span>

<span data-ttu-id="b145f-144">패키지에 `lib/` 또는 `ref/` 파일이 포함 되어 있지 않고 메타 패키지가 아닌 경우 패키지 소비자가 필요로 하는 종속성이 없는 것일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-144">If your package does not contain any `lib/` or `ref/` files and is not a meta-package, it likely does not have any dependencies that the package consumer needs.</span></span> <span data-ttu-id="b145f-145">NuGet의 MSBuild Pack 대상으로 압축 하는 경우 프로젝트 파일 `<SuppressDependenciesWhenPacking>true</SuppressDependenciesWhenPacking>` `PropertyGroup` 에서를 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-145">If you are packing with NuGet's MSBuild Pack target, you can set `<SuppressDependenciesWhenPacking>true</SuppressDependenciesWhenPacking>` in any `PropertyGroup` in your project file.</span></span> <span data-ttu-id="b145f-146">사용자 지정 `nuspec` 파일을 사용 하는 경우 `<dependencies>` 요소를 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-146">If you are using a custom `nuspec` file, remove the `<dependencies>` element.</span></span>

* <span data-ttu-id="b145f-147">기타 시나리오</span><span class="sxs-lookup"><span data-stu-id="b145f-147">Other scenarios</span></span>

<span data-ttu-id="b145f-148">이 경고는 NuGet 5.3의 개발 중에 추가 되었으며 먼저 .NET Core SDK 3.0 Preview 9에서 사용할 수 있었습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-148">This warning was added during NuGet 5.3's development, and first was available in .NET Core SDK 3.0 Preview 9.</span></span> <span data-ttu-id="b145f-149">[NuGet/Home # 8583](https://github.com/nuget/home/issues/8583) 는 경고가 너무 많은 시나리오에서 발생 하는 문제를 추적 합니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-149">[NuGet/Home#8583](https://github.com/nuget/home/issues/8583) tracks an issue where the warning was being raised in too many scenarios.</span></span> <span data-ttu-id="b145f-150">`NoWarn` MSBuild 속성 (프로젝트 파일 `PropertyGroup` 의에 추가 `<NoWarn>$(NoWarn);NU5128</NoWarn>` )을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-150">You can use the `NoWarn` MSBuild property (add `<NoWarn>$(NoWarn);NU5128</NoWarn>` to any `PropertyGroup` in your project file).</span></span> <span data-ttu-id="b145f-151">여러 프로젝트가 영향을 받는 경우를 사용 [`Directory.Build.targets`](/visualstudio/msbuild/customize-your-build) 하 여 모든 프로젝트에 자동으로 추가할 `NoWarn` 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b145f-151">If you have multiple projects affected, you can use [`Directory.Build.targets`](/visualstudio/msbuild/customize-your-build) to automatically add `NoWarn` to all projects.</span></span>
